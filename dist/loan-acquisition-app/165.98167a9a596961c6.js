"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[165],{3165:(R,d,n)=>{n.r(d),n.d(d,{RegisterComponent:()=>b});var t=n(4341),u=n(7681),l=n(177),e=n(4438),g=n(8010);const m=r=>({"is-invalid":r});function f(r,o){1&r&&(e.j41(0,"div",19),e.EFF(1," Valid email is required "),e.k0s())}function c(r,o){1&r&&(e.j41(0,"div",19),e.EFF(1," Username is required "),e.k0s())}function p(r,o){1&r&&(e.j41(0,"div",19),e.EFF(1," Password must be at least 6 characters "),e.k0s())}function _(r,o){if(1&r&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&r){const a=e.XpG();e.R7$(),e.SpI(" ",a.errorMessage," ")}}function v(r,o){if(1&r&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&r){const a=e.XpG();e.R7$(),e.SpI(" ",a.successMessage," ")}}function h(r,o){1&r&&e.nrm(0,"span",22)}let b=(()=>{class r{constructor(a,i,s){this.formBuilder=a,this.authService=i,this.router=s,this.submitted=!1,this.loading=!1,this.errorMessage="",this.successMessage="",this.registerForm=this.formBuilder.group({username:["",t.k0.required],email:["",[t.k0.required,t.k0.email]],password:["",[t.k0.required,t.k0.minLength(6)]]})}get f(){return this.registerForm.controls}onSubmit(){this.submitted=!0,this.errorMessage="",this.successMessage="",this.registerForm.invalid||(this.loading=!0,this.authService.register({email:this.f.email.value,username:this.f.username.value,password:this.f.password.value}).subscribe({next:i=>{this.loading=!1,i.success?(this.successMessage=i.message,setTimeout(()=>{this.router.navigate(["/login"])},2e3)):this.errorMessage=i.message},error:i=>{this.loading=!1,this.errorMessage="string"==typeof i?i:"Registration failed. Please try again."}}))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(t.ok),e.rXU(g.u),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:28,vars:18,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6","col-lg-4"],[1,"card","shadow"],[1,"card-body"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"invalid-feedback"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e.EFF(6,"LAMS Registration"),e.k0s(),e.j41(7,"form",6),e.bIt("ngSubmit",function(){return s.onSubmit()}),e.j41(8,"div",7)(9,"label",8),e.EFF(10,"Email"),e.k0s(),e.nrm(11,"input",9),e.DNE(12,f,2,0,"div",10),e.k0s(),e.j41(13,"div",7)(14,"label",11),e.EFF(15,"Username"),e.k0s(),e.nrm(16,"input",12),e.DNE(17,c,2,0,"div",10),e.k0s(),e.j41(18,"div",7)(19,"label",13),e.EFF(20,"Password"),e.k0s(),e.nrm(21,"input",14),e.DNE(22,p,2,0,"div",10),e.k0s(),e.DNE(23,_,2,1,"div",15)(24,v,2,1,"div",16),e.j41(25,"button",17),e.DNE(26,h,1,0,"span",18),e.EFF(27),e.k0s()()()()()()()),2&i&&(e.R7$(7),e.Y8G("formGroup",s.registerForm),e.R7$(4),e.Y8G("ngClass",e.eq3(12,m,s.submitted&&s.f.email.errors)),e.R7$(),e.Y8G("ngIf",s.submitted&&s.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(14,m,s.submitted&&s.f.username.errors)),e.R7$(),e.Y8G("ngIf",s.submitted&&s.f.username.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(16,m,s.submitted&&s.f.password.errors)),e.R7$(),e.Y8G("ngIf",s.submitted&&s.f.password.errors),e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(),e.Y8G("ngIf",s.successMessage),e.R7$(),e.Y8G("disabled",s.loading),e.R7$(),e.Y8G("ngIf",s.loading),e.R7$(),e.SpI(" ",s.loading?"Registering...":"Register"," "))},dependencies:[l.MD,l.YU,l.bT,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,u.iI],encapsulation:2})}}return r})()}}]);